language: php

php:
  - 5.4
  - 5.5

env:
  - SYMFONY_VERSION="2.3.*"
  - SYMFONY_VERSION="2.7.*"
  - SYMFONY_VERSION="3.0.x-dev"

matrix:
  allow_failures:
    - env: SYMFONY_VERSION="3.0.x-dev"
  exclude:
    - php: 5.4
      env: SYMFONY_VERSION="3.0.x-dev"


before_script:
  - curl --silent http://getcomposer.org/installer | php
  - >
      php composer.phar require --dev \
        symfony/symfony:${SYMFONY_VERSION}

script:
  - phpunit --coverage-text --colors
  - Tests/Javascript/runner.py Tests/Javascript/test.html

notifications:
  email:
    - tim+build@nagel.com.au
